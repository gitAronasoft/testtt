
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Management - YouTube Video Manager</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div id="header"></div>

    <div class="container">
        <div class="page-header">
            <h2>ğŸ‘¥ User Management</h2>
            <div class="dashboard-actions">
                <button class="btn btn-primary" onclick="showModal('addUserModal')">
                    <span>â•</span> Add User
                </button>
                <button class="btn btn-secondary" onclick="exportUsers()">
                    <span>ğŸ“Š</span> Export
                </button>
                <button class="btn btn-secondary" onclick="refreshUsers()">
                    <span>ğŸ”„</span> Refresh
                </button>
            </div>
        </div>

        <!-- User Statistics -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">ğŸ‘¥</div>
                <div class="stat-number" id="totalUsersCount">0</div>
                <div class="stat-label">Total Users</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">âœ…</div>
                <div class="stat-number" id="activeUsersCount">0</div>
                <div class="stat-label">Active Users</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ‘‘</div>
                <div class="stat-number" id="premiumUsersCount">0</div>
                <div class="stat-label">Premium Users</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ“…</div>
                <div class="stat-number" id="newUsersCount">0</div>
                <div class="stat-label">New This Month</div>
            </div>
        </div>

        <!-- Enhanced Search and Filter Bar -->
        <div class="search-filter-bar">
            <div class="search-container">
                <input type="text" class="search-input" id="userSearchInput" placeholder="ğŸ” Search users by name, email, or role..." />
                <button class="search-clear-btn" onclick="clearUserSearch()" title="Clear search">âœ•</button>
            </div>
            <div class="filter-container">
                <select class="filter-select" id="roleFilter">
                    <option value="">ğŸ‘¤ All Roles</option>
                    <option value="admin">ğŸ›¡ï¸ Admin</option>
                    <option value="editor">âœï¸ Editor</option>
                    <option value="viewer">ğŸ‘ï¸ Viewer</option>
                </select>
                <select class="filter-select" id="statusFilter">
                    <option value="">ğŸ“Š All Status</option>
                    <option value="active">âœ… Active</option>
                    <option value="inactive">âŒ Inactive</option>
                    <option value="suspended">â¸ï¸ Suspended</option>
                </select>
                <select class="filter-select" id="subscriptionFilter">
                    <option value="">ğŸ’³ All Plans</option>
                    <option value="free">ğŸ†“ Free</option>
                    <option value="premium">ğŸ’ Premium</option>
                    <option value="pro">â­ Pro</option>
                </select>
                <button class="btn btn-secondary filter-clear-btn" onclick="clearUserFilters()">
                    <span>ğŸ”„</span> Clear All
                </button>
            </div>
        </div>

        <!-- User Management Table -->
        <div class="card">
            <div class="table-header">
                <h3>User List</h3>
                <div class="table-actions">
                    <button class="btn btn-secondary" onclick="selectAllUsers()">Select All</button>
                    <button class="btn btn-danger" onclick="bulkDeleteUsers()">Delete Selected</button>
                </div>
            </div>
            
            <div class="table-container">
                <table class="user-table">
                    <thead>
                        <tr>
                            <th><input type="checkbox" id="selectAllCheckbox" onchange="toggleSelectAll()"></th>
                            <th>ğŸ‘¤ User</th>
                            <th>ğŸ“§ Email</th>
                            <th>ğŸ­ Role</th>
                            <th>ğŸ“Š Status</th>
                            <th>ğŸ’³ Plan</th>
                            <th>ğŸ“… Joined</th>
                            <th>âš¡ Actions</th>
                        </tr>
                    </thead>
                    <tbody id="userTableBody">
                        <!-- Users will be loaded here -->
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <div class="pagination-container">
                <div class="pagination-info">
                    Showing <span id="showingCount">1-10</span> of <span id="totalCount">0</span> users
                </div>
                <div class="pagination-controls">
                    <button class="btn btn-secondary" onclick="previousPage()" id="prevBtn">Previous</button>
                    <span id="pageNumbers"></span>
                    <button class="btn btn-secondary" onclick="nextPage()" id="nextBtn">Next</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add User Modal -->
    <div id="addUserModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>â• Add New User</h3>
                <span class="close" onclick="closeModal('addUserModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-row">
                    <div class="form-group">
                        <label for="newUserName">Full Name</label>
                        <input type="text" id="newUserName" placeholder="Enter full name" required>
                    </div>
                    <div class="form-group">
                        <label for="newUserEmail">Email Address</label>
                        <input type="email" id="newUserEmail" placeholder="Enter email address" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="newUserRole">Role</label>
                        <select id="newUserRole" required>
                            <option value="">Select role</option>
                            <option value="viewer">ğŸ‘ï¸ Viewer</option>
                            <option value="editor">âœï¸ Editor</option>
                            <option value="admin">ğŸ›¡ï¸ Admin</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="newUserPlan">Subscription Plan</label>
                        <select id="newUserPlan">
                            <option value="free">ğŸ†“ Free</option>
                            <option value="premium">ğŸ’ Premium</option>
                            <option value="pro">â­ Pro</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="sendWelcomeEmail"> Send welcome email to user
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('addUserModal')">Cancel</button>
                <button class="btn btn-primary" onclick="addNewUser()">Add User</button>
            </div>
        </div>
    </div>

    <!-- Edit User Modal -->
    <div id="editUserModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>âœï¸ Edit User</h3>
                <span class="close" onclick="closeModal('editUserModal')">&times;</span>
            </div>
            <div class="modal-body">
                <input type="hidden" id="editUserId">
                <div class="form-row">
                    <div class="form-group">
                        <label for="editUserName">Full Name</label>
                        <input type="text" id="editUserName" required>
                    </div>
                    <div class="form-group">
                        <label for="editUserEmail">Email Address</label>
                        <input type="email" id="editUserEmail" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="editUserRole">Role</label>
                        <select id="editUserRole" required>
                            <option value="viewer">ğŸ‘ï¸ Viewer</option>
                            <option value="editor">âœï¸ Editor</option>
                            <option value="admin">ğŸ›¡ï¸ Admin</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editUserStatus">Status</label>
                        <select id="editUserStatus" required>
                            <option value="active">âœ… Active</option>
                            <option value="inactive">âŒ Inactive</option>
                            <option value="suspended">â¸ï¸ Suspended</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="editUserPlan">Subscription Plan</label>
                    <select id="editUserPlan">
                        <option value="free">ğŸ†“ Free</option>
                        <option value="premium">ğŸ’ Premium</option>
                        <option value="pro">â­ Pro</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger" onclick="deleteUser()">Delete User</button>
                <button class="btn btn-secondary" onclick="closeModal('editUserModal')">Cancel</button>
                <button class="btn btn-primary" onclick="updateUser()">Save Changes</button>
            </div>
        </div>
    </div>

    <script src="assets/js/common.js"></script>
    <script src="assets/js/header.js"></script>
    <script src="assets/js/user-management.js"></script>
</body>
</html>
