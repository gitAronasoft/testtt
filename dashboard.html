<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Video Platform</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
</head>
<body class="phoenix-admin">
    <!-- Phoenix Header -->
    <nav class="navbar navbar-expand-lg phoenix-navbar fixed-top">
        <div class="container-fluid">
            <!-- Logo -->
            <a class="navbar-brand phoenix-brand" href="#" onclick="event.preventDefault(); showPanel('overview'); return false;">
                <i class="fas fa-fire phoenix-icon"></i>
                <span class="brand-text">phoenix</span>
            </a>
            
            <!-- Spacer to push user avatar to the right -->
            <div class="flex-grow-1"></div>
            
            <!-- User Avatar -->
            <div class="navbar-nav">
                <div class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button" data-bs-toggle="dropdown">
                        <div class="phoenix-user-avatar me-2" id="userAvatar">A</div>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end phoenix-dropdown">
                        <li class="dropdown-header">
                            <div class="fw-bold" id="userName">Admin User</div>
                            <div class="text-muted small" id="userRole">Administrator</div>
                        </li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#"><i class="fas fa-user me-2"></i>Profile</a></li>
                        <li><a class="dropdown-item" href="#"><i class="fas fa-cog me-2"></i>Settings</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#" onclick="logout()"><i class="fas fa-sign-out-alt me-2"></i>Logout</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="d-none position-fixed w-100 h-100" style="top: 0; left: 0; background: rgba(0,0,0,0.5); z-index: 9999;">
        <div class="d-flex justify-content-center align-items-center h-100">
            <div class="spinner-border text-light" role="status" style="width: 3rem; height: 3rem;">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    </div>

    <!-- Sidebar Backdrop -->
    <div class="sidebar-backdrop" onclick="closeSidebar()"></div>

    <div class="phoenix-layout">
        <!-- Phoenix Sidebar -->
        <div class="phoenix-sidebar" id="sidebar">
            <div class="phoenix-sidebar-content">
                <!-- Main Navigation -->
                <nav class="phoenix-nav">
                    <!-- Viewer Sidebar -->
                    <div id="viewerSidebar" style="display: none;">
                        <div class="phoenix-nav-section">
                            <div class="phoenix-nav-title">Home</div>
                            <ul class="phoenix-nav-list">
                                <li class="phoenix-nav-item">
                                    <a class="phoenix-nav-link" href="#" onclick="event.preventDefault(); showPanel('videos'); return false;">
                                        <i class="fas fa-home phoenix-nav-icon"></i>
                                        <span>Browse Videos</span>
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <div class="phoenix-nav-section">
                            <div class="phoenix-nav-title">Library</div>
                            <ul class="phoenix-nav-list">
                                <li class="phoenix-nav-item">
                                    <a class="phoenix-nav-link" href="#" onclick="event.preventDefault(); showPanel('purchases'); return false;">
                                        <i class="fas fa-video phoenix-nav-icon"></i>
                                        <span>My Library</span>
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <div class="phoenix-nav-section">
                            <div class="phoenix-nav-title">Account</div>
                            <ul class="phoenix-nav-list">
                                <li class="phoenix-nav-item">
                                    <a class="phoenix-nav-link" href="#" onclick="event.preventDefault(); showPanel('profile'); return false;">
                                        <i class="fas fa-user-cog phoenix-nav-icon"></i>
                                        <span>Settings</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Creator Sidebar -->
                    <div id="creatorSidebar" style="display: none;">
                        <div class="phoenix-nav-section">
                            <div class="phoenix-nav-title">Home</div>
                            <ul class="phoenix-nav-list">
                                <li class="phoenix-nav-item">
                                    <a class="phoenix-nav-link active" href="#" onclick="event.preventDefault(); showPanel('overview'); return false;">
                                        <i class="fas fa-home phoenix-nav-icon"></i>
                                        <span>Dashboard</span>
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <div class="phoenix-nav-section">
                            <div class="phoenix-nav-title">Content Management</div>
                            <ul class="phoenix-nav-list">
                                <li class="phoenix-nav-item">
                                    <a class="phoenix-nav-link" href="#" onclick="event.preventDefault(); showPanel('myVideos'); return false;">
                                        <i class="fas fa-film phoenix-nav-icon"></i>
                                        <span>My Videos</span>
                                    </a>
                                </li>
                                <li class="phoenix-nav-item">
                                    <a class="phoenix-nav-link" href="#" onclick="event.preventDefault(); showPanel('upload'); return false;">
                                        <i class="fas fa-upload phoenix-nav-icon"></i>
                                        <span>Upload</span>
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <div class="phoenix-nav-section">
                            <div class="phoenix-nav-title">Analytics</div>
                            <ul class="phoenix-nav-list">
                                <li class="phoenix-nav-item">
                                    <a class="phoenix-nav-link" href="#" onclick="event.preventDefault(); showPanel('earnings'); return false;">
                                        <i class="fas fa-chart-pie phoenix-nav-icon"></i>
                                        <span>Earnings</span>
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <div class="phoenix-nav-section">
                            <div class="phoenix-nav-title">Settings</div>
                            <ul class="phoenix-nav-list">
                                <li class="phoenix-nav-item">
                                    <a class="phoenix-nav-link" href="#" onclick="event.preventDefault(); showPanel('profile'); return false;">
                                        <i class="fas fa-user-cog phoenix-nav-icon"></i>
                                        <span>Profile</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Admin Sidebar -->
                    <div id="adminSidebar" style="display: none;">
                        <div class="phoenix-nav-section">
                            <div class="phoenix-nav-title">Home</div>
                            <ul class="phoenix-nav-list">
                                <li class="phoenix-nav-item">
                                    <a class="phoenix-nav-link active" href="#" onclick="event.preventDefault(); showPanel('overview'); return false;">
                                        <i class="fas fa-home phoenix-nav-icon"></i>
                                        <span>Dashboard</span>
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <div class="phoenix-nav-section">
                            <div class="phoenix-nav-title">Management</div>
                            <ul class="phoenix-nav-list">
                                <li class="phoenix-nav-item">
                                    <a class="phoenix-nav-link" href="#" onclick="event.preventDefault(); showPanel('videos'); return false;">
                                        <i class="fas fa-video phoenix-nav-icon"></i>
                                        <span>Videos</span>
                                    </a>
                                </li>
                                <li class="phoenix-nav-item">
                                    <a class="phoenix-nav-link" href="#" onclick="event.preventDefault(); showPanel('users'); return false;">
                                        <i class="fas fa-users phoenix-nav-icon"></i>
                                        <span>Users</span>
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <div class="phoenix-nav-section">
                            <div class="phoenix-nav-title">Analytics</div>
                            <ul class="phoenix-nav-list">
                                <li class="phoenix-nav-item">
                                    <a class="phoenix-nav-link" href="#" onclick="event.preventDefault(); showPanel('analytics'); return false;">
                                        <i class="fas fa-chart-bar phoenix-nav-icon"></i>
                                        <span>Reports</span>
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <div class="phoenix-nav-section">
                            <div class="phoenix-nav-title">System</div>
                            <ul class="phoenix-nav-list">
                                <li class="phoenix-nav-item">
                                    <a class="phoenix-nav-link" href="#" onclick="event.preventDefault(); showPanel('settings'); return false;">
                                        <i class="fas fa-cogs phoenix-nav-icon"></i>
                                        <span>Settings</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>

                <!-- Collapsed View Toggle -->
                <div class="phoenix-sidebar-footer">
                    <button class="phoenix-collapse-btn" onclick="toggleSidebarCollapse()">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Phoenix Main Content -->
        <div class="phoenix-main-content">
            <div class="phoenix-content-wrapper">
                    <!-- Loading Spinner -->
                    <div id="loadingSpinner" class="text-center py-5" style="display: none;">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                    </div>

                    <!-- Phoenix Overview Panel -->
                    <div id="overviewPanel" class="panel" style="display: block;">
                        <!-- Page Header -->
                        <div class="phoenix-page-header">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h1 class="phoenix-page-title">Projects Dashboard</h1>
                                    <p class="phoenix-page-subtitle">Here's what's going on at your business right now</p>
                                    <small class="phoenix-page-date">
                                        <i class="fas fa-calendar-alt me-1"></i>
                                        <span id="currentDate">Mar 1, 2025</span>
                                    </small>
                                </div>
                            </div>
                        </div>

                        <!-- Phoenix Stats Cards -->
                        <div class="phoenix-stats-grid mb-5">
                            <div class="phoenix-stat-card">
                                <div class="phoenix-stat-icon phoenix-stat-primary">
                                    <i class="fas fa-video"></i>
                                </div>
                                <div class="phoenix-stat-content">
                                    <div class="phoenix-stat-number" id="totalVideosCount">32</div>
                                    <div class="phoenix-stat-label">Videos</div>
                                    <div class="phoenix-stat-description">Awaiting processing</div>
                                </div>
                            </div>

                            <div class="phoenix-stat-card">
                                <div class="phoenix-stat-icon phoenix-stat-success">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="phoenix-stat-content">
                                    <div class="phoenix-stat-number" id="totalUsersCount">94</div>
                                    <div class="phoenix-stat-label">Members</div>
                                    <div class="phoenix-stat-description">Working hard</div>
                                </div>
                            </div>

                            <div class="phoenix-stat-card">
                                <div class="phoenix-stat-icon phoenix-stat-warning">
                                    <i class="fas fa-dollar-sign"></i>
                                </div>
                                <div class="phoenix-stat-content">
                                    <div class="phoenix-stat-number" id="totalEarningsCount">23</div>
                                    <div class="phoenix-stat-label">Earnings</div>
                                    <div class="phoenix-stat-description">Soon to be cleared</div>
                                </div>
                            </div>

                            <div class="phoenix-stat-card">
                                <div class="phoenix-stat-icon phoenix-stat-danger">
                                    <i class="fas fa-undo"></i>
                                </div>
                                <div class="phoenix-stat-content">
                                    <div class="phoenix-stat-number" id="refundsCount">3</div>
                                    <div class="phoenix-stat-label">Refunds</div>
                                    <div class="phoenix-stat-description">Fresh start</div>
                                </div>
                            </div>
                        </div>

                        <!-- Project Progress Section -->
                        <div class="phoenix-project-section">
                            <div class="row">
                                <div class="col-xl-8">
                                    <div class="phoenix-card">
                                        <div class="phoenix-card-header">
                                            <h3 class="phoenix-card-title">Project: zero Roadmap</h3>
                                            <span class="phoenix-project-status">Phase 2 is now ongoing</span>
                                            <span class="phoenix-coming-soon">COMING SOON 8</span>
                                        </div>
                                        <div class="phoenix-card-body">
                                            <!-- Progress Controls -->
                                            <div class="phoenix-progress-controls mb-4">
                                                <div class="phoenix-toggle-group">
                                                    <label class="phoenix-toggle">
                                                        <input type="checkbox" checked>
                                                        <span class="phoenix-toggle-slider"></span>
                                                        <span class="phoenix-toggle-label">Progress</span>
                                                    </label>
                                                    <label class="phoenix-toggle">
                                                        <input type="checkbox" checked>
                                                        <span class="phoenix-toggle-slider"></span>
                                                        <span class="phoenix-toggle-label">Links</span>
                                                    </label>
                                                </div>
                                                <div class="phoenix-time-filters">
                                                    <button class="phoenix-time-btn">Week</button>
                                                    <button class="phoenix-time-btn active">Month</button>
                                                    <button class="phoenix-time-btn">Year</button>
                                                </div>
                                            </div>

                                            <!-- Progress Timeline -->
                                            <div class="phoenix-progress-timeline">
                                                <div class="phoenix-progress-item">
                                                    <div class="phoenix-progress-label">Planning</div>
                                                    <div class="phoenix-progress-bar">
                                                        <div class="phoenix-progress-fill" style="width: 100%"></div>
                                                    </div>
                                                </div>
                                                <div class="phoenix-progress-item">
                                                    <div class="phoenix-progress-label">Research</div>
                                                    <div class="phoenix-progress-bar">
                                                        <div class="phoenix-progress-fill" style="width: 80%"></div>
                                                    </div>
                                                </div>
                                                <div class="phoenix-progress-item">
                                                    <div class="phoenix-progress-label">Design</div>
                                                    <div class="phoenix-progress-bar">
                                                        <div class="phoenix-progress-fill phoenix-progress-active" style="width: 65%"></div>
                                                    </div>
                                                </div>
                                                <div class="phoenix-progress-item">
                                                    <div class="phoenix-progress-label">Review</div>
                                                    <div class="phoenix-progress-bar">
                                                        <div class="phoenix-progress-fill" style="width: 40%"></div>
                                                    </div>
                                                </div>
                                                <div class="phoenix-progress-item">
                                                    <div class="phoenix-progress-label">Develop</div>
                                                    <div class="phoenix-progress-bar">
                                                        <div class="phoenix-progress-fill" style="width: 25%"></div>
                                                    </div>
                                                </div>
                                                <div class="phoenix-progress-item">
                                                    <div class="phoenix-progress-label">Review II</div>
                                                    <div class="phoenix-progress-bar">
                                                        <div class="phoenix-progress-fill" style="width: 15%"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xl-4">
                                    <div class="phoenix-card phoenix-early-bird">
                                        <div class="phoenix-card-body">
                                            <h4 class="phoenix-early-bird-title">Early bird gets the warm leads!</h4>
                                            <p class="phoenix-early-bird-text">
                                                Phoenix CRM Dashboard is coming to market soon for fulfilling your every CRM related needs.
                                            </p>
                                            <div class="phoenix-early-bird-footer">
                                                Follow <a href="#" class="phoenix-link">ThemeWagon</a> at Bootstrap Marketplace
                                                <div class="phoenix-chat-demo">
                                                    <i class="fas fa-comment-dots"></i>
                                                    <span>Chat demo</span>
                                                    <div class="phoenix-online-indicator"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    

                    <!-- Videos Panel -->
                    <div id="videosPanel" class="panel" style="display: none;">
                        <!-- Enhanced Metrics Cards for Viewers -->
                        <div class="quick-stats" id="viewerMetrics" style="display: none;">
                            <div class="quick-stat-card">
                                <div class="quick-stat-icon">
                                    <i class="fas fa-video"></i>
                                </div>
                                <div class="quick-stat-value" id="viewerTotalVideos">0</div>
                                <div class="quick-stat-label">Total Videos</div>
                            </div>
                            <div class="quick-stat-card">
                                <div class="quick-stat-icon" style="background: var(--gradient-success);">
                                    <i class="fas fa-shopping-cart"></i>
                                </div>
                                <div class="quick-stat-value" id="viewerPurchasedVideos">0</div>
                                <div class="quick-stat-label">Purchased</div>
                            </div>
                            <div class="quick-stat-card">
                                <div class="quick-stat-icon" style="background: var(--gradient-warning);">
                                    <i class="fas fa-gift"></i>
                                </div>
                                <div class="quick-stat-value" id="viewerFreeVideos">0</div>
                                <div class="quick-stat-label">Free Videos</div>
                            </div>
                            <div class="quick-stat-card">
                                <div class="quick-stat-icon" style="background: var(--gradient-danger);">
                                    <i class="fas fa-dollar-sign"></i>
                                </div>
                                <div class="quick-stat-value" id="viewerTotalSpent">$0</div>
                                <div class="quick-stat-label">Total Spent</div>
                            </div>
                        </div>

                        <!-- Panel Header -->
                        <div class="panel-header">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h1 class="panel-title">Video Library</h1>
                                    <p class="panel-subtitle" id="videosCount">Loading premium content...</p>
                                </div>
                                <div class="d-flex gap-3">
                                    <button class="action-btn secondary" onclick="refreshVideos()">
                                        <i class="fas fa-sync-alt"></i>Refresh
                                    </button>
                                    <button class="action-btn" onclick="showUploadModal()">
                                        <i class="fas fa-plus"></i>Add Video
                                    </button>
                                </div>
                            </div>
                        </div>

                        

                        <div class="row" id="videosContainer">
                            <!-- Videos will be populated by JavaScript -->
                        </div>

                        <!-- Load More Button -->
                        <div class="text-center mt-4" id="loadMoreContainer" style="display: none;">
                            <button class="btn btn-outline-primary" id="loadMoreBtn" onclick="loadMoreVideos()">
                                <i class="fas fa-plus me-1"></i>Load More Videos
                            </button>
                        </div>
                    </div>

                    <!-- My Videos Panel -->
                    <div id="myVideosPanel" class="panel" style="display: none;">
                        <!-- Metrics Cards -->
                        <div class="row mb-4">
                            <div class="col-md-3">
                                <div class="card bg-primary text-white">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h5 class="card-title">My Videos</h5>
                                                <h3 id="creatorTotalVideos">0</h3>
                                            </div>
                                            <i class="fas fa-video fa-2x"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card bg-success text-white">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h5 class="card-title">Total Views</h5>
                                                <h3 id="creatorTotalViews">0</h3>
                                            </div>
                                            <i class="fas fa-eye fa-2x"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card bg-warning text-white">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h5 class="card-title">Total Earnings</h5>
                                                <h3 id="creatorTotalEarnings">$0</h3>
                                            </div>
                                            <i class="fas fa-dollar-sign fa-2x"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card bg-info text-white">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h5 class="card-title">Monthly Earnings</h5>
                                                <h3 id="creatorMonthlyEarnings">$0</h3>
                                            </div>
                                            <i class="fas fa-chart-line fa-2x"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4 gap-3">
                            <div>
                                <h2 class="mb-1">My Videos</h2>
                                <p class="text-muted mb-0" id="myVideosCount">Loading videos...</p>
                            </div>
                            <button class="btn btn-primary" onclick="event.preventDefault(); showPanel('upload'); return false;">
                                <i class="fas fa-plus me-1"></i>Upload
                            </button>
                        </div>

                        <div class="row" id="myVideosContainer">
                            <!-- My videos will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Upload Panel -->
                    <div id="uploadPanel" class="panel" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>Upload Video</h2>
                        </div>

                        <div class="row justify-content-center">
                            <div class="col-md-8">
                                <div class="card">
                                    <div class="card-body">
                                        <form id="uploadForm">
                                            <div class="mb-3">
                                                <label for="videoTitle" class="form-label">Title</label>
                                                <input type="text" class="form-control" id="videoTitle" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="videoDescription" class="form-label">Description</label>
                                                <textarea class="form-control" id="videoDescription" rows="3" required></textarea>
                                            </div>
                                            <div class="mb-3">
                                                <label for="videoPrice" class="form-label">Price ($)</label>
                                                <input type="number" class="form-control" id="videoPrice" min="0" step="0.01" value="0">
                                            </div>
                                            <div class="mb-3">
                                                <label for="videoCategory" class="form-label">Category</label>
                                                <select class="form-select" id="videoCategory">
                                                    <option value="education">Education</option>
                                                    <option value="entertainment">Entertainment</option>
                                                    <option value="technology">Technology</option>
                                                    <option value="business">Business</option>
                                                    <option value="other">Other</option>
                                                </select>
                                            </div>
                                            <div class="mb-3">
                                                <label for="videoFile" class="form-label">Video File</label>
                                                <input type="file" class="form-control" id="videoFile" accept="video/*" required>
                                                <div class="form-text">
                                    <i class="fab fa-youtube text-danger me-1"></i>
                                    Video will be uploaded to YouTube and synced to the platform database. 
                                    <strong>YouTube connection is managed in Settings â†’ YouTube tab.</strong>
                                </div>
                                            </div>
                                            <button type="submit" class="btn btn-primary">
                                                <i class="fas fa-upload me-2"></i>Upload Video
                                            </button>
                                        </form>

                                        <!-- Upload Progress -->
                                        <div id="uploadProgress" style="display: none;" class="mt-3">
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%">0%</div>
                                            </div>
                                            <small class="text-muted mt-2 d-block" id="uploadProgressText">Preparing upload...</small>
                                        </div>

                                        <!-- Loader -->
                                        <div id="loader" style="display: none;" class="mt-3">
                                            <div class="d-flex align-items-center">
                                                <div class="spinner-border spinner-border-sm text-primary me-2" role="status">
                                                    <span class="visually-hidden">Loading...</span>
                                                </div>
                                                <span>Uploading video to YouTube...</span>
                                            </div>
                                        </div>

                                        <!-- Success Message -->
                                        <div id="success-message" style="display: none;" class="alert alert-success mt-3">
                                            <i class="fas fa-check-circle me-2"></i>
                                            <span id="success-message-text">Video uploaded successfully to YouTube and synced to database!</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Users Panel -->
                    <div id="usersPanel" class="panel" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>Manage Users</h2>
                            <button class="btn btn-primary" onclick="showAddUserModal()">
                                <i class="fas fa-plus me-2"></i>Add User
                            </button>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Email</th>
                                                <th>Role</th>
                                                <th>Joined</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="usersTableBody">
                                            <!-- Users will be populated by JavaScript -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Purchases Panel -->
                    <div id="purchasesPanel" class="panel" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>My Purchases</h2>
                        </div>

                        <div class="row" id="purchasesContainer">
                            <!-- Purchased videos will be populated by JavaScript -->
                        </div>
                    </div>



                    <!-- Earnings Panel -->
                    <div id="earningsPanel" class="panel" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>Earnings Dashboard</h2>
                        </div>

                        <div class="row mb-4">
                            <div class="col-md-4">
                                <div class="card bg-success text-white">
                                    <div class="card-body">
                                        <h5>Total Earnings</h5>
                                        <h3 id="totalEarnings">$1,250.00</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card bg-primary text-white">
                                    <div class="card-body">
                                        <h5>This Month</h5>
                                        <h3 id="monthlyEarnings">$350.00</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card bg-warning text-white">
                                    <div class="card-body">
                                        <h5>Pending</h5>
                                        <h3 id="pendingEarnings">$125.00</h3>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row mb-4">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5>Recent Transactions</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table">
                                                <thead>
                                                    <tr>
                                                        <th>Date</th>
                                                        <th>Video</th>
                                                        <th>Buyer</th>
                                                        <th>Amount</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="transactionsTableBody">
                                                    <tr><td colspan="4" class="text-center text-muted">Loading...</td></tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5>Paid Users</h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="paidUsersContainer" style="max-height: 400px; overflow-y: auto;">
                                            <!-- Paid users will be populated by JavaScript -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>



                    <!-- Analytics Panel -->
                    <div id="analyticsPanel" class="panel" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>Analytics</h2>
                        </div>

                        <div class="alert alert-info">
                            <i class="fas fa-chart-line me-2"></i>
                            Analytics charts will be implemented with Chart.js
                        </div>
                    </div>


                </div>
            </div>
        </div>
    </div>

    <!-- Video Modal -->
    <div class="modal fade" id="videoModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="videoModalTitle">Video Title</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body p-0">
                    <div id="videoPlayer" style="min-height: 400px;">
                        <!-- Video content will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Purchase Modal -->
    <div class="modal fade" id="purchaseModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Confirm Purchase</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to purchase this video for $<span id="purchasePrice">0.00</span>?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="confirmPurchase()">Confirm Purchase</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div class="modal fade" id="editProfileModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-user-edit me-2"></i>Edit Profile
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="editProfileForm">
                        <div class="text-center mb-4">
                            <div class="user-profile-avatar mx-auto mb-3" id="editProfileAvatar">A</div>
                            <button type="button" class="btn btn-outline-primary btn-sm" onclick="changeProfilePicture()">
                                <i class="fas fa-camera me-1"></i>Change Picture
                            </button>
                        </div>

                        <div class="mb-3">
                            <label for="editProfileName" class="form-label">Full Name</label>
                            <input type="text" class="form-control" id="editProfileName" required>
                        </div>

                        <div class="mb-3">
                            <label for="editProfileEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="editProfileEmail" readonly>
                            <div class="form-text">Email cannot be changed</div>
                        </div>

                        <div class="mb-3">
                            <label for="editProfileBio" class="form-label">Bio</label>
                            <textarea class="form-control" id="editProfileBio" rows="3" placeholder="Tell us about yourself..."></textarea>
                        </div>

                        <div class="mb-3">
                            <label for="editProfileWebsite" class="form-label">Website</label>
                            <input type="url" class="form-control" id="editProfileWebsite" placeholder="https://example.com">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="saveProfile()">
                        <i class="fas fa-save me-1"></i>Save Changes
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- User Settings Modal -->
    <div class="modal fade" id="userSettingsModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-cog me-2"></i>User Settings
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="nav flex-column nav-pills" role="tablist">
                                <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#account-settings" type="button">
                                    <i class="fas fa-user me-2"></i>Account
                                </button>
                                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#security-settings" type="button">
                                    <i class="fas fa-shield-alt me-2"></i>Security
                                </button>
                                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#notification-settings" type="button">
                                    <i class="fas fa-bell me-2"></i>Notifications
                                </button>
                                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#privacy-settings" type="button">
                                    <i class="fas fa-lock me-2"></i>Privacy
                                </button>
                                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#youtube-settings" type="button" id="youtubeSettingsTab" style="display: none;">
                                    <i class="fab fa-youtube me-2"></i>YouTube
                                </button>
                            </div>
                        </div>
                        <div class="col-md-9">
                            <div class="tab-content">
                                <div class="tab-pane fade show active" id="account-settings">
                                    <h6 class="mb-3">Account Settings</h6>
                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" id="profilePublic" checked>
                                        <label class="form-check-label" for="profilePublic">
                                            Make profile public
                                        </label>
                                    </div>
                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" id="showOnlineStatus" checked>
                                        <label class="form-check-label" for="showOnlineStatus">
                                            Show online status
                                        </label>
                                    </div>
                                    <div class="mb-3">
                                        <label for="timezone" class="form-label">Timezone</label>
                                        <select class="form-select" id="timezone">
                                            <option value="UTC">UTC</option>
                                            <option value="America/New_York">Eastern Time</option>
                                            <option value="America/Chicago">Central Time</option>
                                            <option value="America/Denver">Mountain Time</option>
                                            <option value="America/Los_Angeles">Pacific Time</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="security-settings">
                                    <h6 class="mb-3">Security Settings</h6>
                                    <button class="btn btn-outline-primary mb-3" onclick="changePassword()">
                                        <i class="fas fa-key me-1"></i>Change Password
                                    </button>
                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" id="twoFactorAuth">
                                        <label class="form-check-label" for="twoFactorAuth">
                                            Enable Two-Factor Authentication
                                        </label>
                                    </div>
                                    <div class="alert alert-info">
                                        <i class="fas fa-info-circle me-2"></i>
                                        Last login: <span id="lastLogin">Loading...</span>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="notification-settings">
                                    <h6 class="mb-3">Notification Preferences</h6>
                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" id="emailNotifications" checked>
                                        <label class="form-check-label" for="emailNotifications">
                                            Email notifications
                                        </label>
                                    </div>
                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" id="pushNotifications" checked>
                                        <label class="form-check-label" for="pushNotifications">
                                            Push notifications
                                        </label>
                                    </div>
                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" id="marketingEmails">
                                        <label class="form-check-label" for="marketingEmails">
                                            Marketing emails
                                        </label>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="privacy-settings">
                                    <h6 class="mb-3">Privacy Settings</h6>
                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" id="analyticsOptIn" checked>
                                        <label class="form-check-label" for="analyticsOptIn">
                                            Allow analytics data collection
                                        </label>
                                    </div>
                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" id="thirdPartySharing">
                                        <label class="form-check-label" for="thirdPartySharing">
                                            Allow third-party data sharing
                                        </label>
                                    </div>
                                    <button class="btn btn-outline-danger" onclick="downloadUserData()">
                                        <i class="fas fa-download me-1"></i>Download My Data
                                    </button>
                                </div>
                                <div class="tab-pane fade" id="youtube-settings">
                                    <h6 class="mb-4">
                                        <i class="fab fa-youtube text-danger me-2"></i>YouTube Integration Settings
                                    </h6>

                                    <!-- Connection Status Card -->
                                    <div class="card mb-4 border-0 shadow-sm">
                                        <div class="card-header bg-gradient-danger text-white">
                                            <h6 class="mb-0">
                                                <i class="fab fa-youtube me-2"></i>Connection Status
                                            </h6>
                                        </div>
                                        <div class="card-body">
                                            <div class="row align-items-center">
                                                <div class="col-md-8">
                                                    <div id="adminYouTubeStatus">
                                                        <div class="d-flex align-items-center">
                                                            <div class="spinner-border spinner-border-sm text-primary me-2" role="status">
                                                                <span class="visually-hidden">Loading...</span>
                                                            </div>
                                                            <span class="text-muted">Checking YouTube connection...</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-4 text-end">
                                                    <div id="adminYoutubeConnectionStatus" class="badge bg-secondary fs-6 px-3 py-2">
                                                        <i class="fab fa-youtube me-1"></i>Checking...
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- YouTube Actions Card -->
                                    <div class="card mb-4 border-0 shadow-sm">
                                        <div class="card-header bg-light">
                                            <h6 class="mb-0">
                                                <i class="fas fa-cogs me-2"></i>YouTube Actions
                                            </h6>
                                        </div>
                                        <div class="card-body">
                                            <div class="row g-3">
                                                <div class="col-md-6">
                                                    <button class="btn btn-success w-100" onclick="connectYouTube()">
                                                        <i class="fab fa-youtube me-2"></i>Connect to YouTube
                                                    </button>
                                                    <small class="text-muted d-block mt-1">Establish new connection</small>
                                                </div>
                                                <div class="col-md-6">
                                                    <button class="btn btn-primary w-100" id="refreshYoutubeTokenBtn" onclick="refreshYouTubeConnection()">
                                                        <i class="fas fa-sync me-2"></i>Refresh Token
                                                    </button>
                                                    <small class="text-muted d-block mt-1">Update access token</small>
                                                </div>
                                                <div class="col-md-6">
                                                    <button class="btn btn-info w-100" onclick="testYouTubeConnection()">
                                                        <i class="fas fa-vial me-2"></i>Test Connection
                                                    </button>
                                                    <small class="text-muted d-block mt-1">Verify API access</small>
                                                </div>
                                                <div class="col-md-6">
                                                    <button class="btn btn-danger w-100" onclick="disconnectYouTube()">
                                                        <i class="fas fa-unlink me-2"></i>Disconnect
                                                    </button>
                                                    <small class="text-muted d-block mt-1">Remove connection</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- API Information Card -->
                                    <div class="card border-0 shadow-sm">
                                        <div class="card-header bg-light">
                                            <h6 class="mb-0">
                                                <i class="fas fa-info-circle me-2"></i>API Information
                                            </h6>
                                        </div>
                                        <div class="card-body">
                                            <div class="alert alert-info mb-3">
                                                <i class="fas fa-lightbulb me-2"></i>
                                                <strong>Important:</strong> YouTube connection is required for video uploads and sync functionality. 
                                                The system uses OAuth 2.0 for secure authentication.
                                            </div>

                                            <div class="row">
                                                <div class="col-md-6">
                                                    <h6 class="text-muted mb-2">Features Enabled:</h6>
                                                    <ul class="list-unstyled">
                                                        <li><i class="fas fa-check text-success me-2"></i>Video Upload</li>
                                                        <li><i class="fas fa-check text-success me-2"></i>Channel Management</li>
                                                        <li><i class="fas fa-check text-success me-2"></i>Video Metadata Sync</li>
                                                        <li><i class="fas fa-check text-success me-2"></i>Analytics Access</li>
                                                    </ul>
                                                </div>
                                                <div class="col-md-6">
                                                    <h6 class="text-muted mb-2">Security Notes:</h6>
                                                    <ul class="list-unstyled">
                                                        <li><i class="fas fa-shield-alt text-primary me-2"></i>Secure OAuth 2.0</li>
                                                        <li><i class="fas fa-clock text-warning me-2"></i>Auto token refresh</li>
                                                        <li><i class="fas fa-user-lock text-info me-2"></i>Admin-only access</li>
                                                        <li><i class="fas fa-key text-secondary me-2"></i>Encrypted storage</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" onclick="saveUserSettings()">
                        <i class="fas fa-save me-1"></i>Save Settings
                    </button>
                </div>
            </div>
        </div>
    </div>

                    <!-- Account Settings Panel -->
                    <div id="profilePanel" class="panel" style="display: none;">
                        <!-- Panel Header -->
                        <div class="panel-header">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h1 class="panel-title">Account Settings</h1>
                                    <p class="panel-subtitle">Manage your profile and account preferences</p>
                                </div>
                                <div class="d-flex gap-3">
                                    <button class="action-btn secondary" onclick="refreshAccountSettings()">
                                        <i class="fas fa-sync-alt"></i>Refresh
                                    </button>
                                    <button class="action-btn" onclick="saveAllAccountSettings()">
                                        <i class="fas fa-save"></i>Save All Changes
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Settings Navigation Tabs -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <div class="card border-0 shadow-sm">
                                    <div class="card-body p-0">
                                        <nav class="nav nav-pills nav-fill">
                                            <button class="nav-link active" onclick="showSettingsTab('profile')" id="profileTab">
                                                <i class="fas fa-user me-2"></i>Profile
                                            </button>
                                            <button class="nav-link" onclick="showSettingsTab('security')" id="securityTab">
                                                <i class="fas fa-shield-alt me-2"></i>Security
                                            </button>
                                            <button class="nav-link" onclick="showSettingsTab('preferences')" id="preferencesTab">
                                                <i class="fas fa-cog me-2"></i>Preferences
                                            </button>
                                            <button class="nav-link" onclick="showSettingsTab('privacy')" id="privacyTab">
                                                <i class="fas fa-lock me-2"></i>Privacy
                                            </button>
                                            <button class="nav-link" onclick="showSettingsTab('billing')" id="billingTab" style="display: none;">
                                                <i class="fas fa-credit-card me-2"></i>Billing
                                            </button>
                                        </nav>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Profile Settings Tab -->
                        <div id="profileSettingsTab" class="settings-tab">
                            <div class="row">
                                <!-- Profile Information -->
                                <div class="col-lg-8">
                                    <div class="card border-0 shadow-sm mb-4">
                                        <div class="card-header bg-light">
                                            <h5 class="mb-0">
                                                <i class="fas fa-user-circle me-2 text-primary"></i>Profile Information
                                            </h5>
                                        </div>
                                        <div class="card-body">
                                            <form id="profileForm">
                                                <div class="row mb-3">
                                                    <div class="col-md-6">
                                                        <label class="form-label fw-semibold">Full Name *</label>
                                                        <input type="text" class="form-control" id="profileName" placeholder="Enter your full name">
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label class="form-label fw-semibold">Username</label>
                                                        <input type="text" class="form-control" id="profileUsername" placeholder="Enter username" readonly>
                                                        <small class="text-muted">Username cannot be changed</small>
                                                    </div>
                                                </div>
                                                <div class="row mb-3">
                                                    <div class="col-md-6">
                                                        <label class="form-label fw-semibold">Email Address *</label>
                                                        <input type="email" class="form-control" id="profileEmail" readonly>
                                                        <small class="text-muted">Contact support to change email</small>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label class="form-label fw-semibold">Phone Number</label>
                                                        <input type="tel" class="form-control" id="profilePhone" placeholder="+1 (555) 123-4567">
                                                    </div>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label fw-semibold">Bio / About</label>
                                                    <textarea class="form-control" id="profileBio" rows="4" placeholder="Tell us about yourself..." maxlength="500"></textarea>
                                                    <div class="form-text d-flex justify-content-between">
                                                        <span>Brief description about yourself</span>
                                                        <span class="text-muted"><span id="bioCharCount">0</span>/500</span>
                                                    </div>
                                                </div>
                                                <div class="row mb-3">
                                                    <div class="col-md-6">
                                                        <label class="form-label fw-semibold">Location</label>
                                                        <input type="text" class="form-control" id="profileLocation" placeholder="City, Country">
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label class="form-label fw-semibold">Website</label>
                                                        <input type="url" class="form-control" id="profileWebsite" placeholder="https://example.com">
                                                    </div>
                                                </div>
                                                <div class="row mb-3">
                                                    <div class="col-md-6">
                                                        <label class="form-label fw-semibold">Date of Birth</label>
                                                        <input type="date" class="form-control" id="profileDob">
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label class="form-label fw-semibold">Gender</label>
                                                        <select class="form-select" id="profileGender">
                                                            <option value="">Select gender</option>
                                                            <option value="male">Male</option>
                                                            <option value="female">Female</option>
                                                            <option value="other">Other</option>
                                                            <option value="prefer_not_to_say">Prefer not to say</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>

                                <!-- Profile Picture & Stats -->
                                <div class="col-lg-4">
                                    <!-- Profile Picture -->
                                    <div class="card border-0 shadow-sm mb-4">
                                        <div class="card-header bg-light">
                                            <h6 class="mb-0">
                                                <i class="fas fa-camera me-2 text-success"></i>Profile Picture
                                            </h6>
                                        </div>
                                        <div class="card-body text-center">
                                            <div class="profile-avatar-large mb-3" id="profileAvatarLarge">
                                                A
                                            </div>
                                            <p class="text-muted mb-3">Upload a new profile picture</p>
                                            <input type="file" class="form-control mb-3" id="avatarUpload" accept="image/*" onchange="previewAvatar(this)">
                                            <button class="btn btn-success w-100 mb-2" onclick="uploadAvatar()">
                                                <i class="fas fa-upload me-1"></i>Upload Photo
                                            </button>
                                            <button class="btn btn-outline-danger w-100" onclick="removeAvatar()">
                                                <i class="fas fa-trash me-1"></i>Remove Photo
                                            </button>
                                        </div>
                                    </div>

                                    <!-- Account Stats -->
                                    <div class="card border-0 shadow-sm">
                                        <div class="card-header bg-light">
                                            <h6 class="mb-0">
                                                <i class="fas fa-chart-pie me-2 text-info"></i>Account Statistics
                                            </h6>
                                        </div>
                                        <div class="card-body">
                                            <div class="d-flex justify-content-between align-items-center mb-2">
                                                <span class="text-muted">Member Since:</span>
                                                <span class="fw-semibold" id="memberSince">-</span>
                                            </div>
                                            <div class="d-flex justify-content-between align-items-center mb-2">
                                                <span class="text-muted">Last Login:</span>
                                                <span class="fw-semibold" id="lastLogin">-</span>
                                            </div>
                                            <div class="d-flex justify-content-between align-items-center mb-2">
                                                <span class="text-muted">Account Type:</span>
                                                <span class="badge bg-primary" id="accountType">-</span>
                                            </div>
                                            <div class="d-flex justify-content-between align-items-center">
                                                <span class="text-muted">Profile Views:</span>
                                                <span class="fw-semibold" id="profileViews">-</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Security Settings Tab -->
                        <div id="securitySettingsTab" class="settings-tab" style="display: none;">
                            <div class="row">
                                <div class="col-lg-8">
                                    <!-- Password Management -->
                                    <div class="card border-0 shadow-sm mb-4">
                                        <div class="card-header bg-light">
                                            <h5 class="mb-0">
                                                <i class="fas fa-key me-2 text-warning"></i>Password Management
                                            </h5>
                                        </div>
                                        <div class="card-body">
                                            <form id="passwordForm">
                                                <div class="mb-3">
                                                    <label class="form-label fw-semibold">Current Password *</label>
                                                    <div class="input-group">
                                                        <input type="password" class="form-control" id="currentPassword" placeholder="Enter current password">
                                                        <button class="btn btn-outline-secondary" type="button" onclick="togglePasswordVisibility('currentPassword')">
                                                            <i class="fas fa-eye"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="row mb-3">
                                                    <div class="col-md-6">
                                                        <label class="form-label fw-semibold">New Password *</label>
                                                        <div class="input-group">
                                                            <input type="password" class="form-control" id="newPassword" placeholder="Enter new password">
                                                            <button class="btn btn-outline-secondary" type="button" onclick="togglePasswordVisibility('newPassword')">
                                                                <i class="fas fa-eye"></i>
                                                            </button>
                                                        </div>
                                                        <div class="password-strength mt-2">
                                                            <div class="progress" style="height: 5px;">
                                                                <div class="progress-bar" role="progressbar" id="passwordStrength" style="width: 0%"></div>
                                                            </div>
                                                            <small class="text-muted" id="passwordStrengthText">Password strength</small>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label class="form-label fw-semibold">Confirm New Password *</label>
                                                        <div class="input-group">
                                                            <input type="password" class="form-control" id="confirmPassword" placeholder="Confirm new password">
                                                            <button class="btn btn-outline-secondary" type="button" onclick="togglePasswordVisibility('confirmPassword')">
                                                                <i class="fas fa-eye"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="alert alert-info">
                                                    <h6><i class="fas fa-info-circle me-2"></i>Password Requirements:</h6>
                                                    <ul class="mb-0">
                                                        <li>At least 8 characters long</li>
                                                        <li>Include uppercase and lowercase letters</li>
                                                        <li>Include at least one number</li>
                                                        <li>Include at least one special character</li>
                                                    </ul>
                                                </div>
                                                <button type="button" class="btn btn-warning" onclick="updatePassword()">
                                                    <i class="fas fa-key me-2"></i>Update Password
                                                </button>
                                            </form>
                                        </div>
                                    </div>

                                    <!-- Two-Factor Authentication -->
                                    <div class="card border-0 shadow-sm mb-4">
                                        <div class="card-header bg-light">
                                            <h5 class="mb-0">
                                                <i class="fas fa-shield-alt me-2 text-success"></i>Two-Factor Authentication
                                            </h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="d-flex justify-content-between align-items-center mb-3">
                                                <div>
                                                    <h6 class="mb-1">Two-Factor Authentication</h6>
                                                    <p class="text-muted mb-0">Add an extra layer of security to your account</p>
                                                </div>
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox" id="enable2FA">
                                                    <label class="form-check-label" for="enable2FA"></label>
                                                </div>
                                            </div>
                                            <div id="2faSetup" style="display: none;">
                                                <div class="alert alert-warning">
                                                    <i class="fas fa-exclamation-triangle me-2"></i>
                                                    Setting up 2FA will require you to use an authenticator app on your phone.
                                                </div>
                                                <button class="btn btn-success" onclick="setup2FA()">
                                                    <i class="fas fa-qrcode me-2"></i>Setup Two-Factor Authentication
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-4">
                                    <!-- Login Activity -->
                                    <div class="card border-0 shadow-sm mb-4">
                                        <div class="card-header bg-light">
                                            <h6 class="mb-0">
                                                <i class="fas fa-history me-2 text-primary"></i>Recent Login Activity
                                            </h6>
                                        </div>
                                        <div class="card-body" style="max-height: 300px; overflow-y: auto;">
                                            <div id="loginActivity">
                                                <div class="text-center text-muted">
                                                    <i class="fas fa-spinner fa-spin me-2"></i>Loading activity...
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Security Actions -->
                                    <div class="card border-0 shadow-sm">
                                        <div class="card-header bg-light">
                                            <h6 class="mb-0">
                                                <i class="fas fa-tools me-2 text-danger"></i>Security Actions
                                            </h6>
                                        </div>
                                        <div class="card-body">
                                            <button class="btn btn-outline-primary w-100 mb-2" onclick="downloadLoginData()">
                                                <i class="fas fa-download me-1"></i>Download Login Data
                                            </button>
                                            <button class="btn btn-outline-warning w-100 mb-2" onclick="logoutAllDevices()">
                                                <i class="fas fa-sign-out-alt me-1"></i>Logout All Devices
                                            </button>
                                            <button class="btn btn-outline-danger w-100" onclick="deactivateAccount()">
                                                <i class="fas fa-user-times me-1"></i>Deactivate Account
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Preferences Settings Tab -->
                        <div id="preferencesSettingsTab" class="settings-tab" style="display: none;">
                            <div class="row">
                                <div class="col-lg-6">
                                    <!-- Notification Preferences -->
                                    <div class="card border-0 shadow-sm mb-4">
                                        <div class="card-header bg-light">
                                            <h5 class="mb-0">
                                                <i class="fas fa-bell me-2 text-info"></i>Notification Preferences
                                            </h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="mb-4">
                                                <h6 class="fw-semibold mb-3">Email Notifications</h6>
                                                <div class="form-check form-switch mb-3">
                                                    <input class="form-check-input" type="checkbox" id="emailNewVideos" checked>
                                                    <label class="form-check-label" for="emailNewVideos">
                                                        New video uploads from creators you follow
                                                    </label>
                                                </div>
                                                <div class="form-check form-switch mb-3">
                                                    <input class="form-check-input" type="checkbox" id="emailPurchases" checked>
                                                    <label class="form-check-label" for="emailPurchases">
                                                        Purchase confirmations and receipts
                                                    </label>
                                                </div>
                                                <div class="form-check form-switch mb-3">
                                                    <input class="form-check-input" type="checkbox" id="emailMarketing">
                                                    <label class="form-check-label" for="emailMarketing">
                                                        Marketing and promotional emails
                                                    </label>
                                                </div>
                                                <div class="form-check form-switch mb-3">
                                                    <input class="form-check-input" type="checkbox" id="emailSecurity" checked>
                                                    <label class="form-check-label" for="emailSecurity">
                                                        Security alerts and account updates
                                                    </label>
                                                </div>
                                            </div>

                                            <div class="mb-4">
                                                <h6 class="fw-semibold mb-3">Push Notifications</h6>
                                                <div class="form-check form-switch mb-3">
                                                    <input class="form-check-input" type="checkbox" id="pushNewContent" checked>
                                                    <label class="form-check-label" for="pushNewContent">
                                                        New content from subscribed creators
                                                    </label>
                                                </div>
                                                <div class="form-check form-switch mb-3">
                                                    <input class="form-check-input" type="checkbox" id="pushMessages">
                                                    <label class="form-check-label" for="pushMessages">
                                                        Direct messages and mentions
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-6">
                                    <!-- Display & Language Settings -->
                                    <div class="card border-0 shadow-sm mb-4">
                                        <div class="card-header bg-light">
                                            <h5 class="mb-0">
                                                <i class="fas fa-cog me-2 text-secondary"></i>Display & Language
                                            </h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="mb-3">
                                                <label class="form-label fw-semibold">Theme Preference</label>
                                                <select class="form-select" id="themePreference">
                                                    <option value="light">Light Theme</option>
                                                    <option value="dark">Dark Theme</option>
                                                    <option value="auto">Auto (System)</option>
                                                </select>
                                            </div>
                                            <div class="mb-3">
                                                <label class="form-label fw-semibold">Language</label>
                                                <select class="form-select" id="languagePreference">
                                                    <option value="en">English</option>
                                                    <option value="es">Spanish</option>
                                                    <option value="fr">French</option>
                                                    <option value="de">German</option>
                                                    <option value="zh">Chinese</option>
                                                    <option value="ja">Japanese</option>
                                                </select>
                                            </div>
                                            <div class="mb-3">
                                                <label class="form-label fw-semibold">Timezone</label>
                                                <select class="form-select" id="timezonePreference">
                                                    <option value="UTC">UTC</option>
                                                    <option value="America/New_York">Eastern Time (ET)</option>
                                                    <option value="America/Chicago">Central Time (CT)</option>
                                                    <option value="America/Denver">Mountain Time (MT)</option>
                                                    <option value="America/Los_Angeles">Pacific Time (PT)</option>
                                                    <option value="Europe/London">London (GMT)</option>
                                                    <option value="Europe/Paris">Paris (CET)</option>
                                                    <option value="Asia/Tokyo">Tokyo (JST)</option>
                                                </select>
                                            </div>
                                            <div class="mb-3">
                                                <label class="form-label fw-semibold">Date Format</label>
                                                <select class="form-select" id="dateFormat">
                                                    <option value="MM/DD/YYYY">MM/DD/YYYY (US)</option>
                                                    <option value="DD/MM/YYYY">DD/MM/YYYY (UK)</option>
                                                    <option value="YYYY-MM-DD">YYYY-MM-DD (ISO)</option>
                                                </select>
                                            </div>
                                            <div class="form-check form-switch mb-3">
                                                <input class="form-check-input" type="checkbox" id="showOnlineStatus" checked>
                                                <label class="form-check-label" for="showOnlineStatus">
                                                    Show online status to other users
                                                </label>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Content Preferences -->
                                    <div class="card border-0 shadow-sm">
                                        <div class="card-header bg-light">
                                            <h6 class="mb-0">
                                                <i class="fas fa-video me-2 text-success"></i>Content Preferences
                                            </h6>
                                        </div>
                                        <div class="card-body">
                                            <div class="mb-3">
                                                <label class="form-label fw-semibold">Auto-play Videos</label>
                                                <select class="form-select" id="autoplayPreference">
                                                    <option value="always">Always</option>
                                                    <option value="wifi">Only on WiFi</option>
                                                    <option value="never">Never</option>
                                                </select>
                                            </div>
                                            <div class="mb-3">
                                                <label class="form-label fw-semibold">Default Video Quality</label>
                                                <select class="form-select" id="videoQuality">
                                                    <option value="auto">Auto</option>
                                                    <option value="1080p">1080p</option>
                                                    <option value="720p">720p</option>
                                                    <option value="480p">480p</option>
                                                </select>
                                            </div>
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" type="checkbox" id="matureContent">
                                                <label class="form-check-label" for="matureContent">
                                                    Show mature content (18+)
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Privacy Settings Tab -->
                        <div id="privacySettingsTab" class="settings-tab" style="display: none;">
                            <div class="row">
                                <div class="col-lg-8">
                                    <div class="card border-0 shadow-sm mb-4">
                                        <div class="card-header bg-light">
                                            <h5 class="mb-0">
                                                <i class="fas fa-user-shield me-2 text-primary"></i>Privacy Controls
                                            </h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="mb-4">
                                                <h6 class="fw-semibold mb-3">Profile Visibility</h6>
                                                <div class="form-check mb-3">
                                                    <input class="form-check-input" type="radio" name="profileVisibility" id="profilePublic" value="public" checked>
                                                    <label class="form-check-label" for="profilePublic">
                                                        <strong>Public</strong> - Anyone can view your profile
                                                    </label>
                                                </div>
                                                <div class="form-check mb-3">
                                                    <input class="form-check-input" type="radio" name="profileVisibility" id="profileMembers" value="members">
                                                    <label class="form-check-label" for="profileMembers">
                                                        <strong>Members Only</strong> - Only registered users can view your profile
                                                    </label>
                                                </div>
                                                <div class="form-check mb-3">
                                                    <input class="form-check-input" type="radio" name="profileVisibility" id="profilePrivate" value="private">
                                                    <label class="form-check-label" for="profilePrivate">
                                                        <strong>Private</strong> - Only you can view your profile
                                                    </label>
                                                </div>
                                            </div>

                                            <div class="mb-4">
                                                <h6 class="fw-semibold mb-3">Data Collection</h6>
                                                <div class="form-check form-switch mb-3">
                                                    <input class="form-check-input" type="checkbox" id="analyticsOptIn" checked>
                                                    <label class="form-check-label" for="analyticsOptIn">
                                                        Allow analytics data collection to improve our service
                                                    </label>
                                                </div>
                                                <div class="form-check form-switch mb-3">
                                                    <input class="form-check-input" type="checkbox" id="personalizedAds">
                                                    <label class="form-check-label" for="personalizedAds">
                                                        Allow personalized advertisements
                                                    </label>
                                                </div>
                                                <div class="form-check form-switch mb-3">
                                                    <input class="form-check-input" type="checkbox" id="thirdPartySharing">
                                                    <label class="form-check-label" for="thirdPartySharing">
                                                        Allow data sharing with trusted third-party services
                                                    </label>
                                                </div>
                                            </div>

                                            <div class="mb-4">
                                                <h6 class="fw-semibold mb-3">Communication Preferences</h6>
                                                <div class="form-check form-switch mb-3">
                                                    <input class="form-check-input" type="checkbox" id="allowDirectMessages" checked>
                                                    <label class="form-check-label" for="allowDirectMessages">
                                                        Allow other users to send you direct messages
                                                    </label>
                                                </div>
                                                <div class="form-check form-switch mb-3">
                                                    <input class="form-check-input" type="checkbox" id="allowComments" checked>
                                                    <label class="form-check-label" for="allowComments">
                                                        Allow comments on your content
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Data Management -->
                                    <div class="card border-0 shadow-sm">
                                        <div class="card-header bg-light">
                                            <h5 class="mb-0">
                                                <i class="fas fa-database me-2 text-warning"></i>Data Management
                                            </h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <button class="btn btn-outline-primary w-100 mb-3" onclick="exportUserData()">
                                                        <i class="fas fa-download me-2"></i>Download My Data
                                                    </button>
                                                    <p class="text-muted small">Export all your account data in JSON format</p>
                                                </div>
                                                <div class="col-md-6">
                                                    <button class="btn btn-outline-warning w-100 mb-3" onclick="requestDataDeletion()">
                                                        <i class="fas fa-trash me-2"></i>Request Data Deletion
                                                    </button>
                                                    <p class="text-muted small">Permanently delete your account and all associated data</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-4">
                                    <!-- Privacy Summary -->
                                    <div class="card border-0 shadow-sm mb-4">
                                        <div class="card-header bg-light">
                                            <h6 class="mb-0">
                                                <i class="fas fa-eye me-2 text-info"></i>Privacy Summary
                                            </h6>
                                        </div>
                                        <div class="card-body">
                                            <div class="d-flex justify-content-between align-items-center mb-2">
                                                <span class="text-muted">Profile Visibility:</span>
                                                <span class="badge bg-success" id="privacySummaryProfile">Public</span>
                                            </div>
                                            <div class="d-flex justify-content-between align-items-center mb-2">
                                                <span class="text-muted">Data Collection:</span>
                                                <span class="badge bg-primary" id="privacySummaryData">Enabled</span>
                                            </div>
                                            <div class="d-flex justify-content-between align-items-center mb-2">
                                                <span class="text-muted">Direct Messages:</span>
                                                <span class="badge bg-success" id="privacySummaryMessages">Allowed</span>
                                            </div>
                                            <div class="d-flex justify-content-between align-items-center">
                                                <span class="text-muted">Third-party Sharing:</span>
                                                <span class="badge bg-secondary" id="privacySummarySharing">Disabled</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Privacy Tips -->
                                    <div class="card border-0 shadow-sm">
                                        <div class="card-header bg-light">
                                            <h6 class="mb-0">
                                                <i class="fas fa-lightbulb me-2 text-warning"></i>Privacy Tips
                                            </h6>
                                        </div>
                                        <div class="card-body">
                                            <div class="alert alert-info">
                                                <small>
                                                    <i class="fas fa-info-circle me-1"></i>
                                                    <strong>Tip:</strong> Keep your profile private if you prefer not to be discoverable by other users.
                                                </small>
                                            </div>
                                            <div class="alert alert-warning">
                                                <small>
                                                    <i class="fas fa-exclamation-triangle me-1"></i>
                                                    <strong>Note:</strong> Some features may not work properly with strict privacy settings.
                                                </small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Billing Settings Tab (for creators/admins) -->
                        <div id="billingSettingsTab" class="settings-tab" style="display: none;">
                            <div class="row">
                                <div class="col-lg-8">
                                    <div class="card border-0 shadow-sm mb-4">
                                        <div class="card-header bg-light">
                                            <h5 class="mb-0">
                                                <i class="fas fa-credit-card me-2 text-success"></i>Payment Methods
                                            </h5>
                                        </div>
                                        <div class="card-body">
                                            <div id="paymentMethods">
                                                <div class="text-center text-muted py-4">
                                                    <i class="fas fa-credit-card fa-3x mb-3"></i>
                                                    <p>No payment methods added yet</p>
                                                    <button class="btn btn-primary" onclick="addPaymentMethod()">
                                                        <i class="fas fa-plus me-2"></i>Add Payment Method
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card border-0 shadow-sm">
                                        <div class="card-header bg-light">
                                            <h5 class="mb-0">
                                                <i class="fas fa-file-invoice me-2 text-primary"></i>Billing History
                                            </h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="text-center text-muted py-4">
                                                <i class="fas fa-receipt fa-3x mb-3"></i>
                                                <p>No billing history available</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-4">
                                    <div class="card border-0 shadow-sm">
                                        <div class="card-header bg-light">
                                            <h6 class="mb-0">
                                                <i class="fas fa-wallet me-2 text-info"></i>Billing Information
                                            </h6>
                                        </div>
                                        <div class="card-body">
                                            <div class="d-flex justify-content-between align-items-center mb-2">
                                                <span class="text-muted">Current Balance:</span>
                                                <span class="fw-bold text-success">$0.00</span>
                                            </div>
                                            <div class="d-flex justify-content-between align-items-center mb-2">
                                                <span class="text-muted">Total Spent:</span>
                                                <span class="fw-semibold">$0.00</span>
                                            </div>
                                            <div class="d-flex justify-content-between align-items-center">
                                                <span class="text-muted">Total Earned:</span>
                                                <span class="fw-semibold">$0.00</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

    <!-- Toast Notification -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="notificationToast" class="toast" role="alert">
            <div class="toast-header">
                <strong class="me-auto">Notification</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
            </div>
            <div class="toast-body" id="toastMessage"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/youtube-api-client.js"></script>
    <script src="assets/js/dashboard.js"></script>
    <script>
        // Phoenix Admin Panel JavaScript
        function toggleSidebarCollapse() {
            const sidebar = document.querySelector('.phoenix-sidebar');
            sidebar.classList.toggle('collapsed');
        }

        function updateCurrentDate() {
            const dateElement = document.getElementById('currentDate');
            if (dateElement) {
                const now = new Date();
                const options = { year: 'numeric', month: 'short', day: 'numeric' };
                dateElement.textContent = now.toLocaleDateString('en-US', options);
            }
        }

        // Initialize Phoenix features
        document.addEventListener('DOMContentLoaded', function() {
            updateCurrentDate();
            
            // Handle active navigation states
            const navLinks = document.querySelectorAll('.phoenix-nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', function() {
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        });
    </script>


</body>
</html>