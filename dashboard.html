<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Video Platform</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
</head>
<body class="bg-light">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary global-navbar">
        <div class="container-fluid">
            <a class="navbar-brand" href="#" onclick="event.preventDefault(); showPanel('overview'); return false;">
                <i class="fas fa-video me-2"></i>Video Platform
            </a>
            <div class="navbar-nav ms-auto d-flex align-items-center">
                <div class="d-flex align-items-center me-3">
                    <div class="user-avatar me-2" id="userAvatar">A</div>
                    <div>
                        <div class="user-name" id="userName">Admin User</div>
                        <div class="user-role" id="userRole">Admin</div>
                    </div>
                </div>
                <button class="btn btn-outline-light" onclick="logout()">
                    <i class="fas fa-sign-out-alt me-1"></i>Logout
                </button>
            </div>
        </div>
    </nav>

    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="d-none position-fixed w-100 h-100" style="top: 0; left: 0; background: rgba(0,0,0,0.5); z-index: 9999;">
        <div class="d-flex justify-content-center align-items-center h-100">
            <div class="spinner-border text-light" role="status" style="width: 3rem; height: 3rem;">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    </div>

    <!-- Mobile Sidebar Toggle -->
    <button class="sidebar-toggle d-lg-none" onclick="toggleSidebar()">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Sidebar Backdrop -->
    <div class="sidebar-backdrop" onclick="closeSidebar()"></div>

    <div class="container-fluid">
        <div class="dashboard-grid">
            <!-- Enhanced Sidebar -->
            <div class="sidebar-container" id="sidebar">
                <div class="user-profile-section">
                    <div class="user-profile-header">
                        <div class="user-profile-avatar" id="userProfileAvatar">A</div>
                        <div class="user-profile-info">
                            <h6 id="userProfileName">Admin User</h6>
                            <div class="user-profile-role" id="userProfileRole">Admin</div>
                        </div>
                    </div>
                    
                    <div class="user-profile-stats" id="userProfileStats">
                        <div class="user-stat">
                            <span class="user-stat-value" id="userStatVideos">0</span>
                            <span class="user-stat-label">Videos</span>
                        </div>
                        <div class="user-stat">
                            <span class="user-stat-value" id="userStatViews">0</span>
                            <span class="user-stat-label">Views</span>
                        </div>
                    </div>
                    
                    <div class="user-profile-actions">
                        <button class="btn btn-outline-primary btn-sm" onclick="showEditProfileModal()">
                            <i class="fas fa-edit me-1"></i>Edit
                        </button>
                        <button class="btn btn-outline-secondary btn-sm" onclick="showUserSettings()">
                            <i class="fas fa-cog me-1"></i>Settings
                        </button>
                    </div>
                </div>

                

                        <nav class="nav flex-column">
                    <a class="nav-link active" href="#" onclick="event.preventDefault(); showPanel('overview'); return false;">
                        <i class="fas fa-chart-bar me-2"></i>Overview
                    </a>

                    <!-- Viewer Sidebar -->
                    <div id="viewerSidebar" style="display: none;">
                        <a class="nav-link" href="#" onclick="event.preventDefault(); showPanel('videos'); return false;">
                            <i class="fas fa-video me-2"></i>Videos
                        </a>
                    </div>

                    <!-- Creator Sidebar -->
                    <div id="creatorSidebar" style="display: none;">
                        <a class="nav-link" href="#" onclick="event.preventDefault(); showPanel('myVideos'); return false;">
                            <i class="fas fa-film me-2"></i>My Videos
                        </a>
                        <a class="nav-link" href="#" onclick="event.preventDefault(); showPanel('upload'); return false;">
                            <i class="fas fa-upload me-2"></i>Upload Video
                        </a>
                        <a class="nav-link" href="#" onclick="event.preventDefault(); showPanel('earnings'); return false;">
                            <i class="fas fa-dollar-sign me-2"></i>Earnings
                        </a>
                    </div>

                    <!-- Admin Sidebar -->
                    <div id="adminSidebar" style="display: none;">
                        <a class="nav-link" href="#" onclick="event.preventDefault(); showPanel('videos'); return false;">
                            <i class="fas fa-video me-2"></i>All Videos
                        </a>
                        <a class="nav-link" href="#" onclick="event.preventDefault(); showPanel('users'); return false;">
                            <i class="fas fa-users me-2"></i>User Management
                        </a>
                    </div>
                </nav>
            </div>

            <!-- Main Content -->
            <div class="main-content">
                    <!-- Loading Spinner -->
                    <div id="loadingSpinner" class="text-center py-5" style="display: none;">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                    </div>

                    <!-- Overview Panel -->
                    <div id="overviewPanel" class="panel">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>Dashboard Overview</h2>
                        </div>

                        <div class="row mb-4">
                            <div class="col-md-3">
                                <div class="card bg-primary text-white">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h5 class="card-title" id="totalVideosLabel">Total Videos</h5>
                                                <h3 id="totalVideos">0</h3>
                                            </div>
                                            <i class="fas fa-video fa-2x"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card bg-success text-white">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h5 class="card-title" id="activeUsersLabel">Active Users</h5>
                                                <h3 id="activeUsers">0</h3>
                                            </div>
                                            <i class="fas fa-users fa-2x"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card bg-warning text-white">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h5 class="card-title" id="totalRevenueLabel">Total Revenue</h5>
                                                <h3 id="totalRevenue">0</h3>
                                            </div>
                                            <i class="fas fa-dollar-sign fa-2x"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card bg-info text-white">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h5 class="card-title" id="totalViewsLabel">Total Views</h5>
                                                <h3 id="totalViews">0</h3>
                                            </div>
                                            <i class="fas fa-eye fa-2x"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5>Recent Activity</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="list-group list-group-flush" id="recentActivityContainer">
                                            <div class="list-group-item text-center text-muted">
                                                <i class="fas fa-spinner fa-spin me-2"></i>Loading...
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5>Popular Videos</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="list-group list-group-flush" id="popularVideosContainer">
                                            <div class="list-group-item text-center text-muted">
                                                <i class="fas fa-spinner fa-spin me-2"></i>Loading...
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Videos Panel -->
                    <div id="videosPanel" class="panel" style="display: none;">
                        <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4 gap-3">
                            <div>
                                <h2 class="mb-1">All Videos</h2>
                                <p class="text-muted mb-0" id="videosCount">Loading videos...</p>
                            </div>
                            <div class="btn-toolbar" role="toolbar">
                                <div class="btn-group me-2" role="group" aria-label="Video filters">
                                    <button class="btn btn-outline-primary active" onclick="filterVideos('all')" data-filter="all">
                                        <i class="fas fa-th me-1"></i>All
                                    </button>
                                    <button class="btn btn-outline-success" onclick="filterVideos('free')" data-filter="free">
                                        <i class="fas fa-gift me-1"></i>Free
                                    </button>
                                    <button class="btn btn-outline-warning" onclick="filterVideos('paid')" data-filter="paid">
                                        <i class="fas fa-dollar-sign me-1"></i>Paid
                                    </button>
                                    <button class="btn btn-outline-info" onclick="filterVideos('purchased')" data-filter="purchased">
                                        <i class="fas fa-check me-1"></i>Purchased
                                    </button>
                                </div>
                                <div class="btn-group" role="group" aria-label="View options">
                                    <button class="btn btn-outline-secondary" onclick="toggleViewMode('grid')" id="gridViewBtn">
                                        <i class="fas fa-th-large"></i>
                                    </button>
                                    <button class="btn btn-outline-secondary" onclick="toggleViewMode('list')" id="listViewBtn">
                                        <i class="fas fa-list"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Search and Sort -->
                        <div class="row mb-4">
                            <div class="col-md-8">
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <i class="fas fa-search"></i>
                                    </span>
                                    <input type="text" class="form-control" placeholder="Search videos..." id="videoSearchInput" onkeyup="searchVideos()">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <select class="form-select" id="videoSortSelect" onchange="sortVideos()">
                                    <option value="newest">Newest First</option>
                                    <option value="oldest">Oldest First</option>
                                    <option value="price-low">Price: Low to High</option>
                                    <option value="price-high">Price: High to Low</option>
                                    <option value="title">Title A-Z</option>
                                    <option value="views">Most Viewed</option>
                                </select>
                            </div>
                        </div>

                        <div class="row" id="videosContainer">
                            <!-- Videos will be populated by JavaScript -->
                        </div>

                        <!-- Load More Button -->
                        <div class="text-center mt-4" id="loadMoreContainer" style="display: none;">
                            <button class="btn btn-outline-primary" id="loadMoreBtn" onclick="loadMoreVideos()">
                                <i class="fas fa-plus me-1"></i>Load More Videos
                            </button>
                        </div>
                    </div>

                    <!-- My Videos Panel -->
                    <div id="myVideosPanel" class="panel" style="display: none;">
                        <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4 gap-3">
                            <div>
                                <h2 class="mb-1">My Videos</h2>
                                <p class="text-muted mb-0" id="myVideosCount">Loading videos...</p>
                            </div>
                            <div class="btn-toolbar" role="toolbar">
                                <div class="btn-group me-2" role="group" aria-label="My video filters">
                                    <button class="btn btn-outline-primary active" onclick="filterMyVideos('all')" data-filter="all">
                                        <i class="fas fa-th me-1"></i>All
                                    </button>
                                    <button class="btn btn-outline-success" onclick="filterMyVideos('free')" data-filter="free">
                                        <i class="fas fa-gift me-1"></i>Free
                                    </button>
                                    <button class="btn btn-outline-warning" onclick="filterMyVideos('paid')" data-filter="paid">
                                        <i class="fas fa-dollar-sign me-1"></i>Paid
                                    </button>
                                    <button class="btn btn-outline-danger" onclick="filterMyVideos('youtube')" data-filter="youtube">
                                        <i class="fab fa-youtube me-1"></i>YouTube
                                    </button>
                                </div>
                                <button class="btn btn-primary" onclick="event.preventDefault(); showPanel('upload'); return false;">
                                    <i class="fas fa-plus me-1"></i>Upload
                                </button>
                            </div>
                        </div>

                        <!-- Search and Sort -->
                        <div class="row mb-4">
                            <div class="col-md-8">
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <i class="fas fa-search"></i>
                                    </span>
                                    <input type="text" class="form-control" placeholder="Search my videos..." id="myVideoSearchInput" onkeyup="searchMyVideos()">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <select class="form-select" id="myVideoSortSelect" onchange="sortMyVideos()">
                                    <option value="newest">Newest First</option>
                                    <option value="oldest">Oldest First</option>
                                    <option value="price-low">Price: Low to High</option>
                                    <option value="price-high">Price: High to Low</option>
                                    <option value="title">Title A-Z</option>
                                    <option value="views">Most Viewed</option>
                                </select>
                            </div>
                        </div>

                        <div class="row" id="myVideosContainer">
                            <!-- My videos will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Upload Panel -->
                    <div id="uploadPanel" class="panel" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>Upload Video</h2>
                            <div id="youtubeConnectionStatus" class="badge bg-secondary">
                                <i class="fab fa-youtube me-1"></i>Checking connection...
                            </div>
                        </div>

                        <div class="row justify-content-center">
                            <div class="col-md-8">
                                <div class="card">
                                    <div class="card-body">
                                        <form id="uploadForm">
                                            <div class="mb-3">
                                                <label for="videoTitle" class="form-label">Title</label>
                                                <input type="text" class="form-control" id="videoTitle" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="videoDescription" class="form-label">Description</label>
                                                <textarea class="form-control" id="videoDescription" rows="3" required></textarea>
                                            </div>
                                            <div class="mb-3">
                                                <label for="videoPrice" class="form-label">Price ($)</label>
                                                <input type="number" class="form-control" id="videoPrice" min="0" step="0.01" value="0">
                                            </div>
                                            <div class="mb-3">
                                                <label for="videoCategory" class="form-label">Category</label>
                                                <select class="form-select" id="videoCategory">
                                                    <option value="education">Education</option>
                                                    <option value="entertainment">Entertainment</option>
                                                    <option value="technology">Technology</option>
                                                    <option value="business">Business</option>
                                                    <option value="other">Other</option>
                                                </select>
                                            </div>
                                            <div class="mb-3">
                                                <label for="videoFile" class="form-label">Video File</label>
                                                <input type="file" class="form-control" id="videoFile" accept="video/*" required>
                                                <div class="form-text">
                                    <i class="fab fa-youtube text-danger me-1"></i>
                                    Video will be uploaded to YouTube and synced to the platform database. 
                                    <strong>YouTube connection required.</strong>
                                </div>
                                            </div>
                                            <button type="submit" class="btn btn-primary">
                                                <i class="fas fa-upload me-2"></i>Upload Video
                                            </button>
                                        </form>

                                        <!-- Upload Progress -->
                                        <div id="uploadProgress" style="display: none;" class="mt-3">
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%">0%</div>
                                            </div>
                                            <small class="text-muted mt-2 d-block" id="uploadProgressText">Preparing upload...</small>
                                        </div>

                                        <!-- Loader -->
                                        <div id="loader" style="display: none;" class="mt-3">
                                            <div class="d-flex align-items-center">
                                                <div class="spinner-border spinner-border-sm text-primary me-2" role="status">
                                                    <span class="visually-hidden">Loading...</span>
                                                </div>
                                                <span>Uploading video to YouTube...</span>
                                            </div>
                                        </div>

                                        <!-- Success Message -->
                                        <div id="success-message" style="display: none;" class="alert alert-success mt-3">
                                            <i class="fas fa-check-circle me-2"></i>
                                            <span id="success-message-text">Video uploaded successfully to YouTube and synced to database!</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Users Panel -->
                    <div id="usersPanel" class="panel" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>Manage Users</h2>
                            <button class="btn btn-primary" onclick="showAddUserModal()">
                                <i class="fas fa-plus me-2"></i>Add User
                            </button>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Email</th>
                                                <th>Role</th>
                                                <th>Joined</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="usersTableBody">
                                            <!-- Users will be populated by JavaScript -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Purchases Panel -->
                    <div id="purchasesPanel" class="panel" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>My Purchases</h2>
                        </div>

                        <div class="row" id="purchasesContainer">
                            <!-- Purchased videos will be populated by JavaScript -->
                        </div>
                    </div>



                    <!-- Earnings Panel -->
                    <div id="earningsPanel" class="panel" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>Earnings Dashboard</h2>
                        </div>

                        <div class="row mb-4">
                            <div class="col-md-4">
                                <div class="card bg-success text-white">
                                    <div class="card-body">
                                        <h5>Total Earnings</h5>
                                        <h3 id="totalEarnings">$1,250.00</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card bg-primary text-white">
                                    <div class="card-body">
                                        <h5>This Month</h5>
                                        <h3 id="monthlyEarnings">$350.00</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card bg-warning text-white">
                                    <div class="card-body">
                                        <h5>Pending</h5>
                                        <h3 id="pendingEarnings">$125.00</h3>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row mb-4">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5>Recent Transactions</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table">
                                                <thead>
                                                    <tr>
                                                        <th>Date</th>
                                                        <th>Video</th>
                                                        <th>Buyer</th>
                                                        <th>Amount</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="transactionsTableBody">
                                                    <tr><td colspan="4" class="text-center text-muted">Loading...</td></tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5>Paid Users</h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="paidUsersContainer" style="max-height: 400px; overflow-y: auto;">
                                            <!-- Paid users will be populated by JavaScript -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    

                    <!-- Analytics Panel -->
                    <div id="analyticsPanel" class="panel" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>Analytics</h2>
                        </div>

                        <div class="alert alert-info">
                            <i class="fas fa-chart-line me-2"></i>
                            Analytics charts will be implemented with Chart.js
                        </div>
                    </div>


                </div>
            </div>
        </div>
    </div>

    <!-- Video Modal -->
    <div class="modal fade" id="videoModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="videoModalTitle">Video Title</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body p-0">
                    <div id="videoPlayer" style="min-height: 400px;">
                        <!-- Video content will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Purchase Modal -->
    <div class="modal fade" id="purchaseModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Confirm Purchase</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to purchase this video for $<span id="purchasePrice">0.00</span>?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="confirmPurchase()">Confirm Purchase</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div class="modal fade" id="editProfileModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-user-edit me-2"></i>Edit Profile
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="editProfileForm">
                        <div class="text-center mb-4">
                            <div class="user-profile-avatar mx-auto mb-3" id="editProfileAvatar">A</div>
                            <button type="button" class="btn btn-outline-primary btn-sm" onclick="changeProfilePicture()">
                                <i class="fas fa-camera me-1"></i>Change Picture
                            </button>
                        </div>
                        
                        <div class="mb-3">
                            <label for="editProfileName" class="form-label">Full Name</label>
                            <input type="text" class="form-control" id="editProfileName" required>
                        </div>
                        
                        <div class="mb-3">
                            <label for="editProfileEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="editProfileEmail" readonly>
                            <div class="form-text">Email cannot be changed</div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="editProfileBio" class="form-label">Bio</label>
                            <textarea class="form-control" id="editProfileBio" rows="3" placeholder="Tell us about yourself..."></textarea>
                        </div>
                        
                        <div class="mb-3">
                            <label for="editProfileWebsite" class="form-label">Website</label>
                            <input type="url" class="form-control" id="editProfileWebsite" placeholder="https://example.com">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="saveProfile()">
                        <i class="fas fa-save me-1"></i>Save Changes
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- User Settings Modal -->
    <div class="modal fade" id="userSettingsModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-cog me-2"></i>User Settings
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="nav flex-column nav-pills" role="tablist">
                                <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#account-settings" type="button">
                                    <i class="fas fa-user me-2"></i>Account
                                </button>
                                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#security-settings" type="button">
                                    <i class="fas fa-shield-alt me-2"></i>Security
                                </button>
                                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#notification-settings" type="button">
                                    <i class="fas fa-bell me-2"></i>Notifications
                                </button>
                                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#privacy-settings" type="button">
                                    <i class="fas fa-lock me-2"></i>Privacy
                                </button>
                            </div>
                        </div>
                        <div class="col-md-9">
                            <div class="tab-content">
                                <div class="tab-pane fade show active" id="account-settings">
                                    <h6 class="mb-3">Account Settings</h6>
                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" id="profilePublic" checked>
                                        <label class="form-check-label" for="profilePublic">
                                            Make profile public
                                        </label>
                                    </div>
                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" id="showOnlineStatus" checked>
                                        <label class="form-check-label" for="showOnlineStatus">
                                            Show online status
                                        </label>
                                    </div>
                                    <div class="mb-3">
                                        <label for="timezone" class="form-label">Timezone</label>
                                        <select class="form-select" id="timezone">
                                            <option value="UTC">UTC</option>
                                            <option value="America/New_York">Eastern Time</option>
                                            <option value="America/Chicago">Central Time</option>
                                            <option value="America/Denver">Mountain Time</option>
                                            <option value="America/Los_Angeles">Pacific Time</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="security-settings">
                                    <h6 class="mb-3">Security Settings</h6>
                                    <button class="btn btn-outline-primary mb-3" onclick="changePassword()">
                                        <i class="fas fa-key me-1"></i>Change Password
                                    </button>
                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" id="twoFactorAuth">
                                        <label class="form-check-label" for="twoFactorAuth">
                                            Enable Two-Factor Authentication
                                        </label>
                                    </div>
                                    <div class="alert alert-info">
                                        <i class="fas fa-info-circle me-2"></i>
                                        Last login: <span id="lastLogin">Loading...</span>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="notification-settings">
                                    <h6 class="mb-3">Notification Preferences</h6>
                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" id="emailNotifications" checked>
                                        <label class="form-check-label" for="emailNotifications">
                                            Email notifications
                                        </label>
                                    </div>
                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" id="pushNotifications" checked>
                                        <label class="form-check-label" for="pushNotifications">
                                            Push notifications
                                        </label>
                                    </div>
                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" id="marketingEmails">
                                        <label class="form-check-label" for="marketingEmails">
                                            Marketing emails
                                        </label>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="privacy-settings">
                                    <h6 class="mb-3">Privacy Settings</h6>
                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" id="analyticsOptIn" checked>
                                        <label class="form-check-label" for="analyticsOptIn">
                                            Allow analytics data collection
                                        </label>
                                    </div>
                                    <div class="form-check form-switch mb-3">
                                        <input class="form-check-input" type="checkbox" id="thirdPartySharing">
                                        <label class="form-check-label" for="thirdPartySharing">
                                            Allow third-party data sharing
                                        </label>
                                    </div>
                                    <button class="btn btn-outline-danger" onclick="downloadUserData()">
                                        <i class="fas fa-download me-1"></i>Download My Data
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" onclick="saveUserSettings()">
                        <i class="fas fa-save me-1"></i>Save Settings
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="notificationToast" class="toast" role="alert">
            <div class="toast-header">
                <strong class="me-auto">Notification</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
            </div>
            <div class="toast-body" id="toastMessage"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/youtube-api-client.js"></script>
    <script src="assets/js/dashboard.js"></script>


</body>
</html>